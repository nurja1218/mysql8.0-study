- 전문검색인덱스
  - vs B-Tree 인덱스
    - 전체 일치 또는 좌측 일부 일치와 같은 검색만 가능
    - MyISAM에서는 최대 1,000바이트, InnoDB에서는 최대 767바이트의 데이터를 인덱스 키로 사용
      - 이런 길이 제한 때문에, 긴 텍스트 데이터의 경우 인덱스는 값의 전체가 아닌 일부만 사용
  - vs 전문검색 인덱스
    - 컬럼의 전체 텍스트 내용을 분석하여 인덱스를 생성
    - 텍스트 내의 각 단어를 분리하여 인덱스를 구성
    - 큰 텍스트 데이터를 다룰 수 있으며, 웹 페이지, 기사, 블로그 글 등의 검색에 적합
    - 텍스트 검색을 최적화하는 데 중점
- 인덱스알고리즘
  - MySQL 8.0 이전에는 구분자(공백or일부문장기호)도 하나의 인덱싱 알고리즘으로 봤지만 구분자 방식은 하위 알고리즘에 다 포함됨
  - 단어의 어근분석 알고리즘
    - 작업과정
      - 불용어 처리
        - 검색에서 가치가 없는 단어를 필터링해서 제거
        - 알고리즘 내에 정의된 상수 or 사용자가 직접 지정도 추가 삭제도 가능
      - 어근 분석
        - MySQL에서는 MeCab을 플러그인 형태로 사용할 수 있도록 함
  - **Mecab**
    - 일본어 형태소 분석기로, 텍스트를 가장 작은 의미 단위인 형태소로 분해
      1. **텍스트 분해**
         - "寿司を食べる" → 형태소 ["寿司"(초밥), "を"(를), "食べる"(먹다)]
      2. **형태소 분석**
      3. **인덱싱**
      4. **검색 쿼리 처리**
      5. **결과 반환**
      - ex. 사용자 검색 쿼리: "寿司を食べる" (초밥을 먹다)
        - 쿼리 "寿司を食べる" → 형태소 ["寿司"(초밥), "を"(를), "食べる"(먹다)]
        - 쿼리의 형태소와 데이터베이스의 형태소를 비교하여 일치하는 문장을 찾기
        - "寿司を食べる"과 관련된 문장들이 검색 결과로 반환
    - 한글버전
      - 형태소 정보를 한국어 사전으로 등록
      - 형태소 규칙 정의
      - 내부 알고리즘 수정 등등
      - Mecab-ko 이미 존재
  - **n-gram** 분석 알고리즘
    - 주어진 텍스트에서 모든 가능한 N개 연속 문자(또는 단어) 시퀀스를 생성
      - ex. "chat"이라는 단어에 대해 2-gram(바이그램)을 생성하면, "ch", "ha", "at”
    - 생성된 N-gram 시퀀스를 인덱스로 저장
    - 사용자가 검색 쿼리를 제출하면, 이 쿼리도 동일한 N-gram으로 분할
      - ex. "hat"을 검색하면, 2-gram은 "ha", "at”
    - 쿼리의 N-gram과 데이터베이스 내의 N-gram 인덱스를 매칭
    - 일부 N-gram이 일치하면 해당 텍스트는 검색 결과로 간주
    - 일치하는 N-gram을 포함하는 텍스트 데이터를 사용자에게 반환(일부만 일치해도 결과가 반환될 수 있음)
    - Ex.
      - 데이터베이스에 "chat", "chatter", "catch", "attain"이라는 단어가 저장되어 있다고 가정
      - 2-gram 인덱스를 생성하면, "ch", "ha", "at", "tt", "te", "er", "ca", "tc", "ai", "in" 등
      - 사용자가 "hat"을 검색하면, "ha", "at" 2-gram으로 분할
      - 인덱스에서 "ha", "at"을 포함하는 단어들("chat", "chatter", "catch")을 찾아 반환
- 전문검색인덱스의 가용성
  - 테이블: **`articles`**
    열: **`id`**, **`title`**, **`content`**, **`summary`**
    각 열에 전문검색 인덱스가 있음을 가정합니다.
  - 전문검색 인덱스 생성
  ```sql
  ALTER TABLE articles ADD FULLTEXT(title, content, summary);
  ```
  - 전문검색 쿼리
  ```sql
  SELECT * FROM articles
  WHERE MATCH(title, content, summary) AGAINST('+MySQL -tutorial' IN BOOLEAN MODE);
  ```
  - 이 쿼리는 **`title`**, **`content`**, **`summary`** 열에서 'MySQL tutorial'이라는 구문을 검색
  - **`MATCH()`** 함수 내에 여러 열을 명시함으로써, 주어진 검색어에 대해 모든 지정된 열에서 검색이 이루어짐
  ### **작동 원리**
  - **MATCH()**: 여기서 **`MATCH(title, content, summary)`**는 **`title`**, **`content`**, **`summary`** 열에서 검색을 수행합니다.
  - **AGAINST()**: **`AGAINST('MySQL tutorial' IN NATURAL LANGUAGE MODE)`**는 검색할 텍스트와 검색 모드를 지정합니다. 여기서 'MySQL tutorial'이 검색어이며, '자연어 모드'로 검색이 이루어집니다.
  - **결과**: 쿼리는 모든 지정된 열에서 검색어와 일치하는 레코드를 찾아 결과로 반환
